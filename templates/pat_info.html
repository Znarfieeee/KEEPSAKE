{% extends 'base.html' %}
{% block content %}
<div class="information-container">
    <div class="patient-header">
        <div class="patient-info">
            <a href="{{ url_for('index') }}" class="btn btn-link">
                <img style="height: 25px; width:auto;" src="/static/images/back.png">
            </a>
            <h1 style="margin-left: 10px;">{{ patient['PT_FNAME'] }} {{ patient['PT_LNAME'] }}</h1>
        </div>
        <div class="action-btn">
            <button class="edit-btn {{ 'active' if request.endpoint == 'edit_patient' else '' }}" 
            onclick="editPatient()">EDIT</button>
            <button class="deactivate-btn {{ 'active' if request.endpoint == 'deactivate_patient' else '' }}"
            onclick="deactivatePatient()">DEACTIVATE</button>
        </div>
    </div>

    <!-- Tabs -->
    <div class="tabs">
        <button class="tab-btn {{ 'active' if request.endpoint == 'pat_info' else '' }}" onclick="window.location.href='{{ url_for('pat_info', patient_id=patient['PT_ID']) }}'">INFORMATION</button>
        <button class="tab-btn {{ 'active' if request.endpoint == 'immunization' else '' }}" onclick="window.location.href='{{ url_for('immunization', patient_id=patient['PT_ID']) }}'">IMMUNIZATION</button>
        <button class="tab-btn {{ 'active' if request.endpoint == 'presc_info' else '' }}" onclick="window.location.href='{{ url_for('presc_info', patient_id=patient['PT_ID']) }}'">PRESCRIPTION</button>
    </div>

    <div class="tab-content">
        <div class="pt-info">
            <div class="pat-detail-title">PATIENT'S INFORMATION</div>
            <div class="info-grid">
                <div>
                    <div class="label">LAST NAME</div>
                    <div class="value">{{ patient['PT_LNAME'] }}</div>
                </div>
                <div>
                    <div class="label">FIRST NAME</div>
                    <div class="value">{{ patient['PT_FNAME'] }}</div>
                </div>
                <div>
                    <div class="label">MIDDLE NAME</div>
                    <div class="value">{{ patient['PT_MNAME'] }}</div>
                </div>
                <div>
                    <div class="label">AGE</div>
                    <div class="value">{{ age }}</div>
                </div>
                <div>
                    <div class="label">BIRTHDATE</div>
                    <div class="value">{{ patient['DT_OF_BIRTH'] }}</div>
                </div>
            </div>
        </div>

        <div class="contact-info">
            <div class="pat-detail-title">CONTACT DETAILS</div>
            <div class="info-grid">
                <div>
                    <div class="label">MOTHER'S NAME</div>
                    <div class="value">{{ patient['MT_NAME'] }}</div>
                </div>
                <div>
                    <div class="label">FATHER'S NAME</div>
                    <div class="value">{{ patient['FT_NAME'] }}</div>
                </div>
                <div>
                    <div class="label">CONTACT NUMBER</div>
                    <div class="value">{{ patient['CON_NUM'] }}</div>
                </div>
                <div>
                    <div class="label">EMAIL</div>
                    <div class="value">{{ patient['EMAIL_ADD'] }}</div>
                </div>
            </div>
        </div>
        <div class="screeningtest-info">
            <div class="pat-detail-title">SCREENING TEST</div>
            <table class="screening-test-table">
                <thead>
                    <tr>
                        <th>DATE</th>
                        <th>DESCRIPTION</th>
                        <th>REMARKS</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ patient['MT_NAME'] }}</td>
                        <td>{{ patient['FT_NAME'] }}</td>
                        <td>{{ patient['CON_NUM'] }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    function editPatient() {
        alert('Edit Patient functionality will go here.');
    }

    function deactivatePatient() {
        if (confirm('Are you sure you want to deactivate this patient?')) {
            alert('Patient deactivated successfully.');
        }
    }
</script>
{% endblock %}
